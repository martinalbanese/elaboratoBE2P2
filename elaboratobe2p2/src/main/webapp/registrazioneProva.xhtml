<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>

<h:head>
    <title>Registrazione Prova</title>
</h:head>

<h:body>

    <h:form id="form">
        <p:panel header="Registrazione Prova" style="width: 400px; margin: auto; margin-top: 50px;">
            <p:messages id="msg" closable="true" showDetail="false" />

            <p:outputLabel for="studente" value="Studente:" />
            <p:selectOneMenu id="studente" value="#{provaBean.studenteId}" style="width: 100%;">
                <f:selectItem itemLabel="-- Seleziona studente --" itemValue="#{null}" />
                <f:selectItems value="#{provaBean.studenti}" var="s"
                               itemLabel="#{s.nome}" itemValue="#{s.id}" />
            </p:selectOneMenu>

            <p:outputLabel for="corso" value="Corso:" />
            <p:selectOneMenu id="corso" value="#{provaBean.corsoId}" style="width: 100%;">
                <f:selectItem itemLabel="-- Seleziona corso --" itemValue="#{null}" />
                <f:selectItems value="#{provaBean.corsi}" var="c"
                               itemLabel="#{c.nome}" itemValue="#{c.id}" />
            </p:selectOneMenu>

            <p:outputLabel for="voto" value="Voto:" />
            <p:inputText id="voto" value="#{provaBean.voto}" style="width: 100%;" />

            <p:separator />

            <div style="display: flex; gap: 1rem;">
                <p:commandButton value="Salva Prova" action="#{provaBean.registraProva}"
                                 update="form" icon="pi pi-check" styleClass="ui-button-primary"/>
                <p:commandButton value="Verifica Stato Studenti"
                                 action="verificaStato.xhtml?faces-redirect=true"
                                 icon="pi pi-search" styleClass="ui-button-secondary" />
            </div>
        </p:panel>
    </h:form>
</h:body>
</html>