<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        template="template.xhtml">

    <ui:define name="title">Stato Studenti</ui:define>

    <ui:define name="content">
        <h:form id="form">
            <p:outputPanel style="max-width: 800px; margin: auto; margin-top: 30px;">
                <h2>Stato Studenti</h2>

                <ui:repeat value="#{verificaBean.studenti}" var="studente">
                    <p:panel header="Studente: #{studente.nome} #{studente.cognome}" style="margin-bottom: 20px;">
                        <p><strong>Media Voti:</strong> #{verificaBean.getMediaVoti(studente)}</p>

                        <p><strong>Corsi da superare:</strong></p>
                        <ul>
                            <ui:repeat value="#{verificaBean.getCorsiNonSuperati(studente)}" var="corso">
                                <li>#{corso.nome}</li>
                            </ui:repeat>
                        </ul>
                    </p:panel>
                </ui:repeat>

                <p:commandButton value="Registra Prova" icon="pi pi-plus"
                                 action="registrazioneProva.xhtml?faces-redirect=true"
                                 styleClass="ui-button-primary" style="margin-top: 20px;" />
            </p:outputPanel>
        </h:form>
    </ui:define>

</ui:composition>
